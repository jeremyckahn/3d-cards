@import "compass/css3/transform";

$CARD_WIDTH: 150px;
$CARD_HEIGHT: 100px;
$CARD_MARGIN_X: 25px;
$CARD_MARGIN_Y: 15px;
$NUM_ROWS: 2;
$NUM_COLS: 2;

.cards-container {
  position: relative;
}

.card-layers {
  height: ($CARD_HEIGHT + ($CARD_MARGIN_Y * 2)) * $NUM_ROWS;
  position: relative;
  width: ($CARD_WIDTH + ($CARD_MARGIN_X * 2)) * $NUM_COLS;
  @include perspective(1000px);
  @include perspective-origin(50% 50%);
  @include transform-style(preserve-3d);
}

  .card-layer {
    left: 0;
    position: absolute;
    top: 0;
  }

.card {
  background: #f0f;
  float: left;
  margin: $CARD_MARGIN_Y $CARD_MARGIN_X;
  height: $CARD_HEIGHT;
  width: $CARD_WIDTH;
}

.card:nth-child(2n + 1) {
  clear: left;
}

.card-layer:nth-child(1) .card {
  background: #f00;
}

.card-layer:nth-child(2) .card {
  background: #0f0;
}

.card-layer:nth-child(3) .card {
  background: #00f;
}

.card-layer:nth-child(4) .card {
  background: #ff8;
}
